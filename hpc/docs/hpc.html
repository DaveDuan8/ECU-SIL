
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=cp1252" />
    <title>hpc package</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="next" title="hpc.bpl package" href="hpc.bpl.html" />
    <link rel="prev" title="hpc" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hpc.bpl.html" title="hpc.bpl package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="hpc"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HPC 2.12.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">hpc</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="hpc-package">
<h1>hpc package</h1>
<div class="section" id="subpackages">
<h2>Subpackages</h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="hpc.bpl.html">hpc.bpl package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.base">hpc.bpl.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#base-py">base.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_cls">hpc.bpl.bpl_cls module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-func-py">bpl_func.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_coll">hpc.bpl.bpl_coll module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-coll-py">bpl_coll.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_db">hpc.bpl.bpl_db module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-db-py">bpl_db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_ex">hpc.bpl.bpl_ex module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-ex-py">bpl_ex.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_fnc">hpc.bpl.bpl_fnc module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#id1">bpl_func.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_ini">hpc.bpl.bpl_ini module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-ini">bpl.ini</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_splt">hpc.bpl.bpl_splt module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-splt-py">bpl_splt.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_txt">hpc.bpl.bpl_txt module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-txt-py">bpl_txt.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl.bpl_xml">hpc.bpl.bpl_xml module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#bpl-xml-py">bpl_xml.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.bpl.html#module-hpc.bpl">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.bpl.html#init-py">__init__.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.core.html">hpc.core package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.app_utils">hpc.core.app_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#app-utils-py">app_utils.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.artifact">hpc.core.artifact module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#artifact-py">artifact.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.convert">hpc.core.convert module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#convert-py">convert.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.dicts">hpc.core.dicts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#dicts-py">dicts.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.easter">hpc.core.easter module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#easter-py">easter.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.error">hpc.core.error module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#error-py">error.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.exitcodes">hpc.core.exitcodes module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#exitcodes-py">exitcodes.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.hpc_defs">hpc.core.hpc_defs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#hpc-defs-py">hpc_defs.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.logger">hpc.core.logger module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#logger-py">logger.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.md5">hpc.core.md5 module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#md5-py">md5.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.path">hpc.core.path module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#path-py">path.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.proc_vals">hpc.core.proc_vals module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#proc-vals-py">proc_vals.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.registry">hpc.core.registry module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#registry-py">registry.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.robocopy">hpc.core.robocopy module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#robocopy-py">robocopy.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core.tds">hpc.core.tds module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#tds-py">tds.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.core.html#module-hpc.core">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.core.html#hpc-core">hpc.core</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.mts.html">hpc.mts package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.bsig_check">hpc.mts.bsig_check module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#bsig-check-py">bsig_check.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.mts_check">hpc.mts.mts_check module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#mts-check-py">mts_check.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.parser">hpc.mts.parser module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#parser-py">parser.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.signal">hpc.mts.signal module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#signal-py">signal.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.signalreader">hpc.mts.signalreader module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#signalreader-py">signalreader.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts.signalwriter">hpc.mts.signalwriter module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#signalwriter-py">signalwriter.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.mts.html#module-hpc.mts">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.mts.html#init-py">__init__.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.rdb.html">hpc.rdb package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.app_srv">hpc.rdb.app_srv module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#app-srv-py">app_srv.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.base">hpc.rdb.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#base-db-py">base_db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.catalog">hpc.rdb.catalog module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#catalog-py">catalog.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.env_data">hpc.rdb.env_data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#env-data-py">env_data.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.error_db">hpc.rdb.error_db module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#error-db-py">error_db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.sqlite_defs">hpc.rdb.sqlite_defs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#sqlite-defs-py">sqlite_defs.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb.table_db">hpc.rdb.table_db module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#table-db-py">table_db.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.rdb.html#module-hpc.rdb">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.rdb.html#init-py">__init__.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.sbmt.html">hpc.sbmt package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.apps">hpc.sbmt.apps module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#app-helper-py">app_helper.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.job">hpc.sbmt.job module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#job-py">job.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.job_sim">hpc.sbmt.job_sim module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#job-sim-py">job_sim.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.subtask_factory">hpc.sbmt.subtask_factory module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#subtask-factory-py">subtask_factory.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.subtask_factory_mts">hpc.sbmt.subtask_factory_mts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#subtask-factory-mts-py">subtask_factory_mts.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.subtask_factory_sil_lite">hpc.sbmt.subtask_factory_sil_lite module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#subtask-factory-sil-lite-py">subtask_factory_sil_lite.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.task">hpc.sbmt.task module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#task-py">task.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.task_factory">hpc.sbmt.task_factory module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#hpc-task-factory">hpc/task_factory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt.task_factory_mts">hpc.sbmt.task_factory_mts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#task-factory-mts-py">task_factory_mts.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sbmt.html#module-hpc.sbmt">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sbmt.html#hpc-sbmt">hpc.sbmt</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hpc.sched.html">hpc.sched package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.base">hpc.sched.base module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#base-py">base.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.sched_defs">hpc.sched.sched_defs module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#sched-defs-py">sched_defs.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.sched_local">hpc.sched.sched_local module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#sched-local-py">sched_local.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.sched_mshpc">hpc.sched.sched_mshpc module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#sched-mshpc-py">sched_mshpc.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.sched_rest">hpc.sched.sched_rest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#sched-rest-py">sched_rest.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched.scheduler">hpc.sched.scheduler module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#scheduler-py">scheduler.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpc.sched.html#module-hpc.sched">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hpc.sched.html#init-py">__init__.py</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules</h2>
</div>
<div class="section" id="module-hpc.setup">
<span id="hpc-setup-module"></span><h2>hpc.setup module</h2>
<div class="section" id="setup-py">
<h3>setup.py</h3>
<p>build a wheel package out of HPC_two</p>
</div>
</div>
<div class="section" id="module-hpc.starter">
<span id="hpc-starter-module"></span><h2>hpc.starter module</h2>
<div class="section" id="starter-py">
<h3>starter.py</h3>
<p>Script to be used to start a CMD Line Application in a HPC task.</p>
<dl class="docutils">
<dt>Features:</dt><dd><ul class="simple">
<li>moving of task result and log data back to the server</li>
<li>app watcher checking if the application is idle</li>
<li>graceful exit of GUI applications on task cancellation</li>
<li>evaluation of MTS return code and check for crash-dumps</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="hpc.starter.AppStarter">
<em class="property">class </em><code class="descclassname">hpc.starter.</code><code class="descname">AppStarter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/starter.html#AppStarter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Application Handler / HPC executor for:</p>
<ul class="simple">
<li>starting the applications,</li>
<li>copying results from the apps back to the server,</li>
<li>starting the HPC watchdog (check cpu and io usage),</li>
<li>interrupt handling like CTRL+C (Cancel Command)</li>
</ul>
<dl class="method">
<dt id="hpc.starter.AppStarter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/starter.html#AppStarter.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>initialize the executor</p>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.cancel_handler">
<code class="descname">cancel_handler</code><span class="sig-paren">(</span><em>signum=None</em>, <em>frame=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/starter.html#AppStarter.cancel_handler"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>we’re getting canceled</p>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span></dt>
<dd><p>clean up 4 testing purposes</p>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/starter.html#AppStarter.execute"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>start the application based on database input.</p>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.exitcode">
<em class="property">property </em><code class="descname">exitcode</code></dt>
<dd><p>exit code
:rtype: int</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.exitmessage">
<em class="property">property </em><code class="descname">exitmessage</code></dt>
<dd><p>exit message
:rtype: str</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/starter.html#AppStarter.finalize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>finalize by saving rest of data to DB</p>
</dd></dl>

<dl class="method">
<dt id="hpc.starter.AppStarter.out_stream">
<em class="property">property </em><code class="descname">out_stream</code></dt>
<dd><p>output stream
:rtype: list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-hpc.submit_ww">
<span id="hpc-submit-ww-module"></span><h2>hpc.submit_ww module</h2>
<div class="section" id="submit-ww-py">
<h3>submit_ww.py</h3>
<p>function(s) to submit jobs to HPC clusters to different sites</p>
<p>the submit_ww is used to submit a master job that is delivered to different sites depending on the storage location
of the recordings to run. Parameters for this script are:</p>
<blockquote>
<div><ul class="simple">
<li>git repo url of submit folder, use <a class="reference external" href="mailto:git&#37;&#52;&#48;github-am&#46;geo&#46;conti&#46;de" target="_blank">git<span>&#64;</span>github-am<span>&#46;</span>geo<span>&#46;</span>conti<span>&#46;</span>de</a>:…</li>
<li>collection name (no bpl) of rec files</li>
<li>Python version to execute (Python36 or Python27_64)</li>
<li>email address to sent job info to (optional, default: user account of submitter)</li>
</ul>
</div></blockquote>
<p>The folder to submit must be stored in an own git repository open for Jenkins account to read.
Jenkins user has stored ssh keys on the servers, so best use <a class="reference external" href="mailto:git&#37;&#52;&#48;github-am" target="_blank">git<span>&#64;</span>github-am</a>:… when passing the url.
The structure is similar to the normally created HPC input folder 1_Input and must contain:</p>
<blockquote>
<div><ul class="simple">
<li>hpc folder (best: git repo ADAS/HPC_two linked as sub package)</li>
<li>mts folder  (normally a simulation is executed, can be left out)</li>
<li>mts_measurement folder</li>
<li>applications to execute in the job’s task(s), can be stored in an own folder</li>
</ul>
</div></blockquote>
<p>(find an example at <a class="reference external" href="mailto:git&#37;&#52;&#48;github-am&#46;geo&#46;conti&#46;de" target="_blank">git<span>&#64;</span>github-am<span>&#46;</span>geo<span>&#46;</span>conti<span>&#46;</span>de</a>:uidv8815/hpc_submit_example)</p>
<dl class="function">
<dt id="hpc.submit_ww.get_locations">
<code class="descclassname">hpc.submit_ww.</code><code class="descname">get_locations</code><span class="sig-paren">(</span><em>bpl_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/submit_ww.html#get_locations"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>List all locations where rec files are stored.</p>
<p>Use bpl entries to get locations, only files on local file shares listed in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bpl_name</strong> (<em>str</em>) – name for the collection as generated with TDSM or bpl path/filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">short site names (‘LND’, ‘ABH’ etc.)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hpc.submit_ww.main">
<code class="descclassname">hpc.submit_ww.</code><code class="descname">main</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/submit_ww.html#main"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>just calling the operation and saving the result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>dict</em>) – arguments to parse and pass to submit_ww</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of errors as returned by submit_ww</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hpc.submit_ww.submit_ww">
<code class="descclassname">hpc.submit_ww.</code><code class="descname">submit_ww</code><span class="sig-paren">(</span><em>repo</em>, <em>coll</em>, <em>prog</em>, <em>pyver</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/submit_ww.html#submit_ww"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>submit a master job</p>
<p>checking the passed collection for sites where the recordings are stored,
then sending the submit request to the Jenkins servers at these sites</p>
<p>mandatory parameters:
- repo: git repository to check out with sources for the HPC job
- coll: collection of rec files to process
- prog: HPC job submit script to define the tasks and programs to execute
- pyver: Python version to use</p>
<p>optional arguments:
- email to send submit status status to (default: user’s address), complete mail addr., sep. with ‘;’</p>
<p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">repo</span> <span class="o">=</span> <span class="s2">&quot;git@github-am.geo.conti.de:ADAS/my_submit_folders.git&quot;</span>
<span class="n">coll</span> <span class="o">=</span> <span class="s2">&quot;EBA_Swiss_tunnel_crashes&quot;</span>
<span class="n">prog</span> <span class="o">=</span> <span class="s2">&quot;path</span><span class="se">\\</span><span class="s2">submit.py vers=&#39;2.3.31&#39;&quot;</span>
<span class="n">pyver</span> <span class="o">=</span> <span class="s2">&quot;Python36&quot;</span>

<span class="n">res</span> <span class="o">=</span> <span class="n">submit_ww</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">coll</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">prog</span><span class="p">,</span> <span class="n">pyver</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>repo</strong> (<em>str</em>) – url of the git repo to check out</li>
<li><strong>coll</strong> (<em>str</em>) – collection name of rec files as stored in DB or path/name of bpl file</li>
<li><strong>prog</strong> (<em>str</em>) – pathprogram to call to submit the job on the sites</li>
<li><strong>pyver</strong> (<em>str</em>) – Python version: Python36 or Python27_64</li>
<li><strong>kwargs</strong> – additional keyword arguments</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>*kwargs</strong> – <ul class="simple">
<li><em>email</em>  (<code class="docutils literal notranslate"><span class="pre">str</span></code>): opt. emails to send submit info to (default: user), complete mail addr., sep. with ‘;’</li>
<li><em>location</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): opt. hidden option for testing</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">number of failed submits</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">int</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>AssertException</strong> – if no collection is passed</li>
<li><a class="reference internal" href="hpc.rdb.html#hpc.rdb.base.BaseDbException" title="hpc.rdb.base.BaseDbException"><strong>BaseDbException</strong></a> – if wrong masterid is returned from BaseDb</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-hpc.version">
<span id="hpc-version-module"></span><h2>hpc.version module</h2>
<div class="section" id="version-py">
<h3>version.py</h3>
<p>what to explain?</p>
</div>
</div>
<div class="section" id="module-hpc">
<span id="module-contents"></span><h2>Module contents</h2>
<div class="section" id="hpc">
<span id="starting-point"></span><h3>hpc</h3>
<p>Subpackage for Handling the ADAS HPC Cluster.</p>
<p>This package provides a complete Interface to the Cluster to submit Jobs.</p>
<p><strong>Following Classes are available for the User-API:</strong></p>
<blockquote>
<div><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpcError</span></code></a>, <a class="reference internal" href="#hpc.Job" title="hpc.Job"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Job</span></code></a>, <a class="reference internal" href="#hpc.JobSim" title="hpc.JobSim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobSim</span></code></a>, <a class="reference internal" href="#hpc.TaskFactory" title="hpc.TaskFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TaskFactory</span></code></a>, <a class="reference internal" href="#hpc.TaskFactoryMTS" title="hpc.TaskFactoryMTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TaskFactoryMTS</span></code></a>, <a class="reference internal" href="#hpc.SubTaskFactory" title="hpc.SubTaskFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactory</span></code></a>, <a class="reference internal" href="#hpc.SubTaskFactoryMTS" title="hpc.SubTaskFactoryMTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactoryMTS</span></code></a>,
<a class="reference internal" href="#hpc.SubTaskFactorySILLite" title="hpc.SubTaskFactorySILLite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactorySILLite</span></code></a>, <a class="reference internal" href="#hpc.Bpl" title="hpc.Bpl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Bpl</span></code></a>, <a class="reference internal" href="#hpc.Signal" title="hpc.Signal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Signal</span></code></a>, <a class="reference internal" href="#hpc.SignalException" title="hpc.SignalException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SignalException</span></code></a>,
<a class="reference internal" href="#hpc.CollManager" title="hpc.CollManager"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CollManager</span></code></a>, <a class="reference internal" href="#hpc.Collection" title="hpc.Collection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>, <a class="reference internal" href="#hpc.Recording" title="hpc.Recording"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Recording</span></code></a>, <a class="reference internal" href="#hpc.CollException" title="hpc.CollException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CollException</span></code></a></div></blockquote>
<p><strong>Following Defines (classes) are available for the User-API:</strong></p>
<blockquote>
<div><a class="reference internal" href="#hpc.JobState" title="hpc.JobState"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobState</span></code></a>, <a class="reference internal" href="#hpc.JobPriority" title="hpc.JobPriority"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobPriority</span></code></a>, <a class="reference internal" href="#hpc.JobUnitType" title="hpc.JobUnitType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobUnitType</span></code></a></div></blockquote>
<p><strong>To get more information about the usage of the HPC Cluster, you can also check following link(s):</strong></p>
<blockquote>
<div><a class="reference external" href="https://confluence.auto.continental.cloud/display/GITTE/High+Performance+Computing" target="_blank">https://confluence.auto.continental.cloud/display/GITTE/High+Performance+Computing</a></div></blockquote>
<p><strong>To use the hpc package from your code do following</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">hpc</span> <span class="kn">import</span> <span class="n">Job</span><span class="p">,</span> <span class="o">...</span>

<span class="c1"># Create a instance of the Hpc class.</span>
<span class="k">with</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">SERVER</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;SMFC4B0_HLA_ECU-SIL-Test&#39;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s1">&#39;SMFC4B0&#39;</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="s1">&#39;Default&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="k">as</span> <span class="n">job</span><span class="p">:</span>
    <span class="c1"># add tasks here....</span>

<span class="o">...</span>
</pre></div>
</div>
<p><strong>Attention</strong>:</p>
<blockquote>
<div><p><strong>do not manipulate the HPC package, risks are on your side!!!</strong></p>
<p>rather write a ticket on <a class="reference external" href="https://github-am.geo.conti.de/ADAS/HPC_two/issues" target="_blank">HPC github repo</a>
or write a <a class="reference external" href="https://jira-adas.zone2.agileci.conti.de/secure/CreateIssueDetails!init.jspa?pid=12326&amp;issuetype=10000&amp;priority=3&amp;summary=[issue+description]&amp;assignee=uidv7805&amp;customfield_10114=13464" target="_blank">Jira ticket</a>
or contact <a class="reference external" href="mailto:07WWMGADASTDMService&#37;&#52;&#48;conti&#46;de" target="_blank">TDM team via mail</a></p>
</div></blockquote>
<dl class="exception">
<dt id="hpc.HpcError">
<em class="property">exception </em><code class="descclassname">hpc.</code><code class="descname">HpcError</code><span class="sig-paren">(</span><em>msg</em>, <em>errno=20</em>, <em>dpth=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/error.html#HpcError"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception Class for all HPC Exceptions.</p>
<dl class="method">
<dt id="hpc.HpcError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>msg</em>, <em>errno=20</em>, <em>dpth=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/error.html#HpcError.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>HPC error class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<em>str</em>) – message to announce</li>
<li><strong>errno</strong> (<em>int</em>) – related error number</li>
<li><strong>dpth</strong> (<em>int</em>) – starting frame depth for error trace, increase by 1 for each subclass level of <a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HpcError</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.HpcError.error">
<em class="property">property </em><code class="descname">error</code></dt>
<dd><p>error number of exception
:rtype: int</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.HpcError.message">
<em class="property">property </em><code class="descname">message</code></dt>
<dd><p>raw message of myself without the traceback overhead</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.Job">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">Job</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><strong>main Interface of HPC.</strong></p>
<ul class="simple">
<li>You can use this class to submit jobs onto the ADAS HPC Cluster.</li>
<li>For minimum functionality you need at least the <a class="reference internal" href="#module-hpc" title="hpc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hpc</span></code></a> and <a class="reference internal" href="#hpc.TaskFactory" title="hpc.TaskFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.TaskFactory</span></code></a>.</li>
<li>To simulate a whole submit and execute a testrun, you can use instead of
the Hpc the <code class="xref py py-obj docutils literal notranslate"><span class="pre">HpcSim</span></code> class.</li>
</ul>
<p><strong>1. Example:</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import hpc</span>
<span class="kn">import</span> <span class="nn">hpc</span>

<span class="c1">#Connect to the HPC Server</span>
<span class="k">with</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Trainging_Ping&#39;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s1">&#39;MFC310&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">job</span><span class="p">:</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="s1">&#39;ping 127.0.0.1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>2. Example</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import hpc</span>
<span class="kn">import</span> <span class="nn">hpc</span>

<span class="c1"># calls the init and start job creation</span>
<span class="k">with</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my first job&quot;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s2">&quot;Short_Test&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">job</span><span class="p">:</span>
    <span class="c1"># create a factory from myJob to be able to create your tasks</span>
    <span class="n">fact</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="c1"># now create the task(s) finally</span>
    <span class="n">fact</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="s1">&#39;ping 127.0.0.1&#39;</span><span class="p">)</span>
<span class="c1"># when *with* exits, job is going to get submitted automagically.</span>
</pre></div>
</div>
<dl class="method">
<dt id="hpc.Job.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>initialize HPC job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> – <em>head_node</em>, <em>name</em> and <em>project</em> must be given, others are optional (kwargs)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>head_node</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): head node to use, default: site local simulation cluster</li>
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): <a class="reference internal" href="hpc.core.html#hpc.core.tds.validate_name" title="hpc.core.tds.validate_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">name</span> <span class="pre">of</span> <span class="pre">job</span></code></a></li>
<li><em>project</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of project to use</li>
<li><em>template</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of template</li>
<li><em>priority</em> (<code class="docutils literal notranslate"><span class="pre">JobPriority</span></code>): initial priority, int and string values are allowed, e.g. ‘Normal+100’</li>
<li><em>unit</em> (<code class="docutils literal notranslate"><span class="pre">JobUnit</span></code>): job unit (JobUnit), can be either Node, Core or Socket</li>
<li><em>pyexe</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): python.exe including path pointing to another interpreter job should execute on</li>
<li><em>notify_on_start</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job starts</li>
<li><em>notify_on_completion</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job completes</li>
<li><em>hold_time</em> (<code class="docutils literal notranslate"><span class="pre">datetime</span></code>): local date/time for first try to start job.</li>
<li><em>depends</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): job ID(‘s) this job should depend upon</li>
<li><em>requested_nodes</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of nodes this job should run</li>
<li><em>excluded_nodes</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of nodes to be excluded</li>
<li><em>min_hd_space</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): minimum HD space requirement for a node</li>
<li><em>env</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): dictionary containing additional environment variables</li>
<li><em>venv</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code> | <code class="docutils literal notranslate"><span class="pre">str</span></code>): list of requirements.txt entries or requirements file name</li>
<li><em>venv_sys</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): use system-site-packages on venv, default: True</li>
<li><dl class="first docutils">
<dt><em>popts</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): extra options to pip when using venv next to -r</dt><dd>(=&gt; <a class="reference external" href="https://pip.pypa.io/en/stable/cli/pip_install/#options" target="_blank">https://pip.pypa.io/en/stable/cli/pip_install/#options</a>)</dd>
</dl>
</li>
<li><em>xlog</em> (<code class="docutils literal notranslate"><span class="pre">Logger</span></code>): extra logger to use and to log to</li>
<li><em>mtscheck</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check MTS errmon / crashrep log files, default: True</li>
<li><em>procdump</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): do a procdump on “frozen” MTS, default: False</li>
<li><em>bsig_check</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check bsig outputs from MTS, default: True</li>
<li><em>bsig_ext</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): bsig extensions to be used, default: [“.bsig”]</li>
<li><em>precmd</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): prepare command to be executed after preparation is done</li>
<li><em>relcmd</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): release command to be executed before release is done</li>
<li><em>exit_codes</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of codes to Finish each task</li>
<li><em>add_exit_codes</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of codes to append to exit_codes</li>
<li><em>ignore_codes</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of codes to completely ignore</li>
<li><em>robo_retry</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): retry count for result copy back (starter)</li>
<li><em>robo_wait</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): wait time between those retries (starter)</li>
<li><em>task_out</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): copy back task’s output data to task folder instead of _data folder</li>
<li><em>runas</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): &lt;username&gt;[:&lt;password&gt;] to run the job as (password is only needed for first time)</li>
<li><em>eoe</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): on first failure subtask execution stops, no further processing done if set</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – on any</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.add_task">
<code class="descname">add_task</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.add_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>add a task to job</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.base_db">
<em class="property">property </em><code class="descname">base_db</code></dt>
<dd><p>HPC DB connection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseDb</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.cancel">
<code class="descname">cancel</code><span class="sig-paren">(</span><em>msg='canceled on purpose'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.cancel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>cancel the already submitted job</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.client_folder">
<em class="property">property </em><code class="descname">client_folder</code></dt>
<dd><p>folder of job on client</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>job_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>remove me 2011: compat: create</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.create_mts_task">
<code class="descname">create_mts_task</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.create_mts_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a task</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.create_task">
<code class="descname">create_task</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.create_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a task</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.head_node">
<em class="property">property </em><code class="descname">head_node</code></dt>
<dd><p>head node name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.job_folder">
<em class="property">property </em><code class="descname">job_folder</code></dt>
<dd><p>folder of job on hpc share</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.job_name">
<em class="property">property </em><code class="descname">job_name</code></dt>
<dd><p>name of job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.job_sim">
<em class="property">property </em><code class="descname">job_sim</code></dt>
<dd><p>wether it’s sim or real</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.jobid">
<em class="property">property </em><code class="descname">jobid</code></dt>
<dd><p>the id of job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.jobprecmd">
<code class="descname">jobprecmd</code><span class="sig-paren">(</span><em>cmds</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.jobprecmd"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>append a job prepare command to be done on the very first prepare</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmds</strong> (<em>str</em>) – command (plus arguments) to be executed</li>
<li><strong>kwargs</strong> (<em>dict</em>) – arguments for cmds to used, e.g. cwd, …</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.jobrelcmd">
<code class="descname">jobrelcmd</code><span class="sig-paren">(</span><em>cmds</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.jobrelcmd"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>append a job release command to be done on the very last node release</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmds</strong> (<em>str</em>) – command (plus arguments) to be executed</li>
<li><strong>kwargs</strong> (<em>dict</em>) – arguments for cmds to used, e.g. cwd, …</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.join">
<code class="descname">join</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.join"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>join arguments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>list</em>) – join those with destination separator</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">path join</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.logger">
<em class="property">property </em><code class="descname">logger</code></dt>
<dd><p>return submit logger</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.nodeprecmd">
<code class="descname">nodeprecmd</code><span class="sig-paren">(</span><em>cmds</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.nodeprecmd"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>append a node prepare command to be done on first node prepare</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmds</strong> (<em>str</em>) – command (plus arguments) to be executed</li>
<li><strong>kwargs</strong> (<em>dict</em>) – arguments for cmds to used, e.g. cwd, …</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.noderelcmd">
<code class="descname">noderelcmd</code><span class="sig-paren">(</span><em>cmds</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.noderelcmd"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>append a node release command to be done on last node release</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmds</strong> (<em>str</em>) – command (plus arguments) to be executed</li>
<li><strong>kwargs</strong> (<em>dict</em>) – arguments for cmds to used, e.g. cwd, …</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.portal_link">
<em class="property">property </em><code class="descname">portal_link</code></dt>
<dd><p>portal link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.precmd">
<em class="property">property </em><code class="descname">precmd</code></dt>
<dd><p>return preparation command</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.relcmd">
<em class="property">property </em><code class="descname">relcmd</code></dt>
<dd><p>return release command</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.sched">
<em class="property">property </em><code class="descname">sched</code></dt>
<dd><p>scheduler instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return <code class="xref py py-obj docutils literal notranslate"><span class="pre">Scheduler</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.submit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>be compatible to hpc_one</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.subtask_factory">
<code class="descname">subtask_factory</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.subtask_factory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a taskfactory and return it, see <code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.SubTaskFactoy</span></code> for more information</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.task_factory">
<code class="descname">task_factory</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.task_factory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a taskfactory and return it, see <code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.TaskFactoy</span></code> for more information</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.task_factory_mts">
<code class="descname">task_factory_mts</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.task_factory_mts"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a taskfactory and return it, see <code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.TaskFactoyMTS</span></code> for more information</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Job.wait_until_finished">
<code class="descname">wait_until_finished</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job.html#Job.wait_until_finished"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>wait until job finishes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): wait timeout [s]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return JobState<a class="reference internal" href="#hpc.JobState" title="hpc.JobState"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobState</span></code></a>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">final state of job</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.JobSim">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">JobSim</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job_sim.html#JobSim"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.sbmt.html#hpc.sbmt.job.Job" title="hpc.sbmt.job.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.sbmt.job.Job</span></code></a></p>
<div class="graphviz"><img src="_images/inheritance-d600c2ba0d05c0734c4c44c35952c8c95ce415f5.png" alt="Inheritance diagram of hpc.JobSim" usemap="#inheritance3658d7b393" class="inheritance graphviz" /></div>
<map id="inheritance3658d7b393" name="inheritance3658d7b393">
<area shape="rect" id="node1" href="hpc.sbmt.html#hpc.sbmt.job.Job" target="_top" title="**main Interface of HPC.**" alt="" coords="5,5,173,36"/>
<area shape="rect" id="node2" href="hpc.sbmt.html#hpc.sbmt.job_sim.JobSim" target="_top" title=".. inheritance&#45;diagram:: hpc.JobSim" alt="" coords="221,5,464,36"/>
</map><p>The JobSim class can be used instead of the <a class="reference internal" href="#hpc.Job" title="hpc.Job"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Job</span></code></a> class to simulate
a job submit on the HPC-Cluster on the local pc and test the first Task
of the job in a simple way.</p>
<p><strong>Following steps explain the workflow:</strong></p>
<ol class="arabic simple">
<li>Replace in the submit script the <a class="reference internal" href="#hpc.Job" title="hpc.Job"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Job</span></code></a> class with <a class="reference internal" href="#hpc.JobSim" title="hpc.JobSim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JobSim</span></code></a></li>
<li>Be sure you have a local folder called d:/data.</li>
<li>JobSim will copy all needed test files to d:/data with the given jobname.</li>
<li>Execute you submit script.</li>
<li>Go to d:/data/1_JobName/1_Input and execute the test.bat file.</li>
<li>The Job will executed exactly in the same way like on the HPC-Cluster
The results will be copied to
D:/data/_hpc_base/1_JobName/2_Output/_data</li>
<li>Go to D:/data/_hpc_base/1_JobName/2_Output/T00001
and check if the results are ok.</li>
<li>If the results as expected, do a real submit on the HPC-Cluster
in the Test-Queue.</li>
</ol>
<p><strong>1. Example</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import hpc</span>
<span class="kn">import</span> <span class="nn">hpc</span>

<span class="c1">#Connect to the HPC Server</span>
<span class="k">with</span> <span class="n">hpc</span><span class="o">.</span><span class="n">JobSim</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Training_Ping&#39;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s1">&#39;Short_Test&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">job</span><span class="p">:</span>
    <span class="n">factory</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="s1">&#39;ping 127.0.0.1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="hpc.JobSim.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job_sim.html#JobSim.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>initialize HPC job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> – <em>head_node</em>, <em>name</em> and <em>project</em> must be given, others are optional (kwargs)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>head_node</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): head node to use, default: Lindau production cluster</li>
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of job</li>
<li><em>project</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of project to use</li>
<li><em>template</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of template</li>
<li><em>priority</em> (<code class="docutils literal notranslate"><span class="pre">JobPriority</span></code>): initial priority, use int or JobPriority class</li>
<li><em>unit</em> (<code class="docutils literal notranslate"><span class="pre">JobUnit</span></code>): job unit (JobUnit), can be either Node, Core or Socket</li>
<li><em>notify_on_start</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job starts</li>
<li><em>notify_on_completion</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job completes</li>
<li><em>hold_time</em> (<code class="docutils literal notranslate"><span class="pre">datetime</span></code>): local date/time for first try to start job.</li>
<li><em>depends</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): job ID(‘s) this job should depend uppon</li>
<li><em>bsig_check</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check bsig outputs from MTS, default: True</li>
<li><em>precmd</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): prepare command to be executed after preparation is done</li>
<li><em>relcmd</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): release command to be executed before release is done</li>
<li><em>robo_retry</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): retry count for result copy back (starter)</li>
<li><em>robo_wait</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): wait time between those retries (starter)</li>
<li><em>runas</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): ‘&lt;username&gt;[:&lt;password&gt;] to run the job as (password is only needed for first time)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.JobSim.wait_until_finished">
<code class="descname">wait_until_finished</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/job_sim.html#JobSim.wait_until_finished"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Start the local execution of test.bat and wait until it is finalized, return the final job’s state</p>
<p>Set job type to Core to run as many tasks in parallel as your machine provides.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.JobState">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">JobState</code><span class="sig-paren">(</span><em>value=2047</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobState"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>JobStateEnumeration, defines the state of a job.
see <a class="reference external" href="https://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.jobstate(v=vs.85).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.jobstate(v=vs.85).aspx</a></p>
<dl class="attribute">
<dt id="hpc.JobState.All">
<code class="descname">All</code><em class="property"> = 2047</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Canceled">
<code class="descname">Canceled</code><em class="property"> = 512</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Canceling">
<code class="descname">Canceling</code><em class="property"> = 1024</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Configuring">
<code class="descname">Configuring</code><em class="property"> = 1</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.ExternalValidation">
<code class="descname">ExternalValidation</code><em class="property"> = 8</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Failed">
<code class="descname">Failed</code><em class="property"> = 256</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.FinalStates">
<code class="descname">FinalStates</code><em class="property"> = [128, 256, 512]</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Finished">
<code class="descname">Finished</code><em class="property"> = 128</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Finishing">
<code class="descname">Finishing</code><em class="property"> = 64</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Queued">
<code class="descname">Queued</code><em class="property"> = 16</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Running">
<code class="descname">Running</code><em class="property"> = 32</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Submitted">
<code class="descname">Submitted</code><em class="property"> = 2</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobState.Validating">
<code class="descname">Validating</code><em class="property"> = 4</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="method">
<dt id="hpc.JobState.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>value=2047</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobState.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Initialize state with given value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int</em>) – initial value to set</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – in case value out of range</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.TaskState">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">TaskState</code><span class="sig-paren">(</span><em>value=2047</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#TaskState"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>TaskStateEnumeration, defines the state of a task.
see <a class="reference external" href="https://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.taskstate(v=vs.85).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.taskstate(v=vs.85).aspx</a></p>
<dl class="attribute">
<dt id="hpc.TaskState.All">
<code class="descname">All</code><em class="property"> = 2047</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Canceled">
<code class="descname">Canceled</code><em class="property"> = 512</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Canceling">
<code class="descname">Canceling</code><em class="property"> = 1024</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Configuring">
<code class="descname">Configuring</code><em class="property"> = 1</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Dispatching">
<code class="descname">Dispatching</code><em class="property"> = 16</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Failed">
<code class="descname">Failed</code><em class="property"> = 256</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Finished">
<code class="descname">Finished</code><em class="property"> = 128</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Finishing">
<code class="descname">Finishing</code><em class="property"> = 64</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Queued">
<code class="descname">Queued</code><em class="property"> = 8</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Running">
<code class="descname">Running</code><em class="property"> = 32</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Submitted">
<code class="descname">Submitted</code><em class="property"> = 2</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.TaskState.Validating">
<code class="descname">Validating</code><em class="property"> = 4</em></dt>
<dd><p>task states available:</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskState.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>value=2047</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#TaskState.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>initialize the task’s state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int</em>) – value to set</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – once value is out of range</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.JobPriority">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">JobPriority</code><span class="sig-paren">(</span><em>value=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobPriority"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines the priorities that you can specify for a job.
see <a class="reference external" href="http://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.jobpriority(v=vs.85).aspx" target="_blank">http://msdn.microsoft.com/en-us/library/microsoft.hpc.scheduler.properties.jobpriority(v=vs.85).aspx</a></p>
<dl class="attribute">
<dt id="hpc.JobPriority.AboveNormal">
<code class="descname">AboveNormal</code><em class="property"> = 3000</em></dt>
<dd><p>job priorities you can use</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobPriority.BelowNormal">
<code class="descname">BelowNormal</code><em class="property"> = 1000</em></dt>
<dd><p>job priorities you can use</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobPriority.Highest">
<code class="descname">Highest</code><em class="property"> = 4000</em></dt>
<dd><p>job priorities you can use</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobPriority.Lowest">
<code class="descname">Lowest</code><em class="property"> = 0</em></dt>
<dd><p>job priorities you can use</p>
</dd></dl>

<dl class="attribute">
<dt id="hpc.JobPriority.Normal">
<code class="descname">Normal</code><em class="property"> = 2000</em></dt>
<dd><p>job priorities you can use</p>
</dd></dl>

<dl class="method">
<dt id="hpc.JobPriority.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>value=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobPriority.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init with lowest by default</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>int|str</em>) – also e.g. ‘BelowNormal+100’ is allowed</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.JobUnitType">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">JobUnitType</code><span class="sig-paren">(</span><em>value=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobUnitType"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Determines whether cores, nodes, or sockets are used to allocate resources for the job.
see <a class="reference external" href="http://msdn.microsoft.com/en-us/library/" target="_blank">http://msdn.microsoft.com/en-us/library/</a>
microsoft.hpc.scheduler.ischedulerjob.unittype(v=vs.85).aspx</p>
<dl class="attribute">
<dt id="hpc.JobUnitType.Core">
<code class="descname">Core</code><em class="property"> = 0</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.JobUnitType.GPU">
<code class="descname">GPU</code><em class="property"> = 3</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.JobUnitType.Node">
<code class="descname">Node</code><em class="property"> = 2</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.JobUnitType.Socket">
<code class="descname">Socket</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hpc.JobUnitType.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>value=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/hpc_defs.html#JobUnitType.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init with lowest</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.TaskFactory">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">TaskFactory</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><strong>Create Tasks based on “normal” commandline call.</strong></p>
<ul class="simple">
<li>Typical usage is first to set all information, which is the same for
all Tasks. (environment-variables, working-dir, ….)</li>
<li>After that, multiple calls of the “create_task” - for the real
Task creation.</li>
</ul>
<p><em>Example:</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import hpc</span>
<span class="kn">import</span> <span class="nn">hpc</span>

<span class="c1">#connect to HPC cluster</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Training_Ping&quot;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s2">&quot;Short_Test&quot;</span><span class="p">)</span>

<span class="n">factory</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
<span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="s1">&#39;ping 127.0.0.1&#39;</span><span class="p">)</span>
<span class="n">job</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Creates Tasks based on SubTasks.</strong></p>
<ul class="simple">
<li>Tasks can be the SubTaskIndex from a SubTaskFactory Created Task.</li>
</ul>
<p><em>Example:</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import hpc</span>
<span class="kn">import</span> <span class="nn">hpc</span>

<span class="c1"># connect to local (pseudo) &quot;HPC&quot; cluster</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">JobSim</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Training_SubTask&quot;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s2">&quot;Short_Test&quot;</span><span class="p">)</span>

<span class="c1"># Create the main task factory</span>
<span class="n">factory</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="c1"># Create TaskFactory</span>
<span class="n">ping1</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">SubTaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
<span class="n">ping2</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">SubTaskFactory</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="n">sub1</span> <span class="o">=</span> <span class="n">ping1</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="s2">&quot;ping.exe 127.0.0.1&quot;</span><span class="p">)</span>

<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">sub2</span> <span class="o">=</span> <span class="n">ping2</span><span class="o">.</span><span class="n">CreateTask</span><span class="p">(</span><span class="s2">&quot;ping.exe 127.0.0.1 -n</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">counter</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">sub1</span> <span class="o">+</span> <span class="n">sub2</span><span class="p">)</span>

<span class="n">job</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="hpc.TaskFactory.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init task factory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hpc</strong> (<a class="reference internal" href="#hpc.Job" title="hpc.Job"><em>hpc.Job</em></a>) – link to job</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>**kwargs</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of task</li>
<li><em>io_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch io traffic</li>
<li><em>cpu_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall track cpu usage</li>
<li><em>time_watch</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): whether watchdog shall monitor time [h]</li>
<li><em>prn_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch the printout</li>
<li><em>time_factor</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): default 16 x recording length</li>
<li><em>skipon</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): continue on certain exitcodes of previous subtask, e.g. [-302, -402]</li>
<li><dl class="first docutils">
<dt><em>wrapexe</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): executables wrapped around all sub task, e.g.</dt><dd><dl class="docutils">
<dt>[{“cmd”: “foobar.exe -o1 -o2”, “cwd”: None, “timeout”: 0.5,</dt><dd>”waitfor”: “wait for this on stdout and continue”, “erroron”: “wait for this on stdout and fail”,}]</dd>
</dl>
</dd>
</dl>
</li>
<li><em>cncl_cmd</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): cancel command to be executed when task is canceled, max runtime: 60s</li>
<li><em>exit_map</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): map real exit code to user defined</li>
<li><em>folders</em> (<code class="docutils literal notranslate"><span class="pre">list[str]</span></code>): list of extra folder to create on WSN at start of (sub)task run</li>
<li><em>env</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): environment variables to set for the task</li>
<li><em>notify_on_start</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job starts</li>
<li><em>notify_on_completion</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): receive an email when job completes</li>
<li><em>out_dir</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): output directory, if it should be different than the task folder or _data</li>
<li><em>log_dir</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): log directory, if it should be different than the task folder \ log</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactory.activate_app_watcher">
<code class="descname">activate_app_watcher</code><span class="sig-paren">(</span><em>active</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.activate_app_watcher"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>wether to (de)activate the watcher: deprecated</p>
<p>The ApplicationWatcher normal checks the real Task, if the task is
still running. He does this with looking on the cpu-load and the io
of the process. Is the task under the limit of the minimum cpu-load
and/or io, he will kill the process to free the node again.</p>
<p>Sometime it is necessay, to deactivate this, because the
ApplicationWatcher kills the process in a unwanted situation.
For this you can call this Method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>active</strong> (<em>bool</em>) – flag if Application Watcher shall be deactivated or not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactory.add_environment_variable">
<code class="descname">add_environment_variable</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.add_environment_variable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>With this method, you are able to set multiple Environment variables
for your Task. You can call this method several times, with different
key/value - pairs. All of them will be set before your task
starts with execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>string</em>) – Name of the Environment Variable.</li>
<li><strong>value</strong> (<em>string</em>) – Value which is used to set the Environment Variable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactory.create_task">
<code class="descname">create_task</code><span class="sig-paren">(</span><em>cmd</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.create_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a new task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cmd</strong> (<em>str</em>) – Commandline for the executable to start.</li>
<li><strong>kwargs</strong> (<em>dict</em>) – misc more args, see create_task method of subtask_factory for more info…</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">info about the task</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactory.create_tasks">
<code class="descname">create_tasks</code><span class="sig-paren">(</span><em>bpl_file_path</em>, <em>cmd=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.create_tasks"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create multiple tasks based on a given *.bpl file.
%recfile% inside ‘cmd’ keyword will be replaced by iterated recording from bpl
Sections will not be taken into consideration as for create_tasks of task factory mts…</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bpl_file_path</strong> (<em>str</em>) – bpl file name</li>
<li><strong>cmd</strong> (<em>str</em>) – cmd to be used</li>
<li><strong>kwargs</strong> (<em>dict</em>) – misc more args</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">info of details being added</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list[dict]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactory.set_cur_work_dir">
<code class="descname">set_cur_work_dir</code><span class="sig-paren">(</span><em>working_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory.html#TaskFactory.set_cur_work_dir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>SetCurWorkingDir set the current working dir for your process.
Per default the current working directory is set to
D:/data/%JobName%/1_Input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><ul class="first simple">
<li>%JobName% will be replaced with the real JobName.</li>
<li>%TaskName% will be replaced with the real TaskName.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first last"><strong>working_dir</strong> (<em>string</em>) – Name of the Environment Variable.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.TaskFactoryMTS">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">TaskFactoryMTS</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.sbmt.html#hpc.sbmt.task_factory.TaskFactory" title="hpc.sbmt.task_factory.TaskFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.sbmt.task_factory.TaskFactory</span></code></a></p>
<div class="graphviz"><img src="_images/inheritance-3e1964c2594f4cda7ae22d385ed957a978a99221.png" alt="Inheritance diagram of hpc.TaskFactoryMTS" usemap="#inheritance8393336e75" class="inheritance graphviz" /></div>
<map id="inheritance8393336e75" name="inheritance8393336e75">
<area shape="rect" id="node1" href="hpc.sbmt.html#hpc.sbmt.task_factory.TaskFactory" target="_top" title="**Create Tasks based on &quot;normal&quot; commandline call.**" alt="" coords="5,5,319,36"/>
<area shape="rect" id="node2" href="hpc.sbmt.html#hpc.sbmt.task_factory_mts.TaskFactoryMTS" target="_top" title=".. inheritance&#45;diagram:: hpc.TaskFactoryMTS" alt="" coords="367,5,763,36"/>
</map><ul class="simple">
<li>Specialized class for creating Hpc Tasks which run out MTS.</li>
<li>Typical usage is first to set all information, which is the
same for all Tasks. (SetConfigFolder,SetConfigFile,…)</li>
<li>After that, multiple calls of the “create_task” - for the real
MTS-Task creation.</li>
<li>This class is derived from the <a class="reference internal" href="#hpc.TaskFactory" title="hpc.TaskFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TaskFactory</span></code></a>, this means all
methods from there can also be used.</li>
</ul>
<p><strong>To Create multiple Tasks from a given *.bpl do</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create multiple task, to use as much as possible hpc power</span>
<span class="n">factory</span><span class="o">.</span><span class="n">create_tasks</span><span class="p">(</span><span class="n">bpl_path</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>To Create a single Task to replay a single *.rec file do</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a single task, which replay a single *.rec</span>
<span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">rec_file_url</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>To Create a single Task to replay a complete *.bpl do</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a single task, which replay the whole bpl</span>
<span class="n">factory</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">bpl_path</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Full Example how a MTS Job can be submitted</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bpl_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="sa">r</span><span class="s1">&#39;07_training_mts.bpl&#39;</span><span class="p">)</span>

<span class="c1"># Connect to the HPC Server</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Training_MTS_Job&quot;</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="s2">&quot;Short_Test&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="n">hpc</span><span class="o">.</span><span class="n">JobUnitType</span><span class="o">.</span><span class="n">Node</span><span class="p">)</span>

<span class="c1"># Create TaskFactory</span>
<span class="n">factory</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">TaskFactoryMTS</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="c1"># Copy Job Input to the Job Folder</span>
<span class="n">factory</span><span class="o">.</span><span class="n">copy_mts_folders</span><span class="p">(</span><span class="s1">&#39;.</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">06_Test_Tools</span><span class="se">\\</span><span class="s1">mts_system&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;.</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">..</span><span class="se">\\</span><span class="s1">06_Test_Tools</span><span class="se">\\</span><span class="s1">mts_measurement&#39;</span><span class="p">)</span>

<span class="c1"># Set some general Task settings</span>
<span class="n">factory</span><span class="o">.</span><span class="n">set_config</span><span class="p">(</span><span class="s1">&#39;mts_measurement</span><span class="se">\\</span><span class="s1">cfg</span><span class="se">\\</span><span class="s1">algo&#39;</span><span class="p">,</span> <span class="s1">&#39;hpc_mts_test.cfg&#39;</span><span class="p">)</span>
<span class="n">factory</span><span class="o">.</span><span class="n">set_data_folder</span><span class="p">(</span><span class="s2">&quot;d:</span><span class="se">\\</span><span class="s2">data</span><span class="se">\\</span><span class="s2">%JobName%</span><span class="se">\\</span><span class="s2">2_Output</span><span class="se">\\</span><span class="s2">%TaskName%</span><span class="se">\\</span><span class="s2">data&quot;</span><span class="p">)</span>

<span class="c1"># Create for every entry inside the bpl-file one Tasks</span>
<span class="n">factory</span><span class="o">.</span><span class="n">create_tasks</span><span class="p">(</span><span class="n">bpl_path</span><span class="p">)</span>

<span class="n">job</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="hpc.TaskFactoryMTS.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init task factory first</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.cfg_file">
<em class="property">property </em><code class="descname">cfg_file</code></dt>
<dd><p>return the config file name</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.cfg_folder">
<em class="property">property </em><code class="descname">cfg_folder</code></dt>
<dd><p>return the config folder</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.copy_mts_folders">
<code class="descname">copy_mts_folders</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.copy_mts_folders"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>copy MTS folders from default (or given) directories and
omit unneeded mts files and folders that are not needed in offline simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>*args</strong> – <em>mts_sys_folder_name</em>, <em>mts_measure_folder_name</em>, <em>use_filter</em>, <em>mts_sys_dest</em>
and <em>mts_measure_dest</em> can be given, others are optional (kwargs)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>**kwargs</strong> – <ul class="simple">
<li><em>mts_sys_folder_name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): MTS system folder path, can also be an artifactory (zip file)</li>
<li><em>mts_measure_folder_name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): MTS measurement folder path</li>
<li><em>use_filter</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): optional to deactivate ignore filter</li>
<li><em>mts_sys_dest</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): destination path for mts_system</li>
<li><em>mts_measure_dest</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): destination path for mts_measurement</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – on copy error</li>
<li><strong>ValueError</strong> – in case path cannot be found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.create_task">
<code class="descname">create_task</code><span class="sig-paren">(</span><em>bpl_rec_filepath</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.create_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a single task with the given input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bpl_rec_filepath</strong> (<em>str</em>) – Bpl or Rec File URL which must be used for MTS.
Type depends on initializer mode (‘rec’, ‘bpl’)</li>
<li><strong>args</strong> (<em>tuple</em>) – for more args, please review subtask_factory.create_task’s doc.</li>
<li><strong>kwargs</strong> (<em>dict</em>) – for more kwargs, please review subtask_factory.create_task’s doc.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">task info being added herein</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<p>The use case will be selected automatically with the argument of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">bpl_rec_filepath</span></code> and depends on the given File Ending.</p>
<p><em>2 use cases are currently supported:</em></p>
<ol class="arabic">
<li><div class="first line-block">
<div class="line">Create a single task with one rec file.</div>
<div class="line">HPC will replay in this task one rec</div>
</div>
</li>
<li><div class="first line-block">
<div class="line">Create a single task with one bpl file.</div>
<div class="line-block">
<div class="line">HPC will replay in this task the whole *.bpl file with the given</div>
<div class="line">settings from MTS.</div>
<div class="line">In this mode, the MTS Batch settings must be considered:</div>
<div class="line-block">
<div class="line">- Player mode:           [Play sections, Ignore sections]</div>
<div class="line">- Simulator reset mode:  [No Reset, Reset, Reset + Init]</div>
<div class="line">- Simulator restet time: [Before whole batch, Before batch entry]</div>
</div>
<div class="line">Please set the mts player settings manually with the mts itself,</div>
<div class="line">the settings are stored inside the configuration which must be used to</div>
<div class="line">submit the job.</div>
</div>
</div>
</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.create_tasks">
<code class="descname">create_tasks</code><span class="sig-paren">(</span><em>bpl_file_path</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.create_tasks"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a multiple Tasks based on a given *.bpl file.</p>
<p>If bpl file entry contains a section, then a bpl file based task
will be created, and also the needed split new bpl file with this
single entry. If bpl file entry is without sections, the task creation
will use directly the *.rec file path as argument.</p>
<p><em>checker</em> is an older argument to be able to disable mts check (bsigs),
<em>depends</em> is used to create dependent tasks,</p>
<p>for more kwargs, please review subtask_factory.create_task’s doc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bpl_file_path</strong> (<em>str</em>) – Bpl File URL which must be used for MTS.</li>
<li><strong>args</strong> (<em>tuple</em>) – <em>depends</em> and <em>checker</em> can be given, others are optional (kwargs)</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>**kwargs</strong> – <ul class="simple">
<li><dl class="first docutils">
<dt><em>ignore_missing</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): if using a collection and True here,</dt><dd>recs inside not on same cluster are ignored</dd>
</dl>
</li>
<li><em>loc</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): location as a fallback for JobSim usage</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">task infos being added herein</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list[dict]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_app_path">
<code class="descname">set_app_path</code><span class="sig-paren">(</span><em>app_path='d:\\data\\%JobName%\\1_Input\\mts_system\\measapp.exe'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_app_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Provide the possibility to set the path to the measapp.exe
to the correct one, if the default path can’t be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">%JobName% will be replaced with the real JobName.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_path</strong> (<em>string</em>) – Absolute path to the measapp.exe,
which is used to start the Task.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_config">
<code class="descname">set_config</code><span class="sig-paren">(</span><em>folder</em>, <em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the folder, where MTS will find the given config file.
This folder will also be used, if you have multiple configuration,
which depends via a relative path from each other. So this Folder
will also be used as the base config folder to resolve
the relative paths to other given config files.</p>
<p>Set the config file name, which shall be used by MTS.
This FileName can also contain a relative path to the
config file, if the Base Config Folder feature is needed.
Please see also <code class="xref py py-obj docutils literal notranslate"><span class="pre">TaskFactoryMTS.SetConfigFolder</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>folder</strong> (<em>str</em>) – path to the base config folder.</li>
<li><strong>file_name</strong> (<em>str</em>) – name of config File or relative path to config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – raised when either folder of file is empty</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_config_file_name">
<code class="descname">set_config_file_name</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_config_file_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>deprecate it!</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_config_folder">
<code class="descname">set_config_folder</code><span class="sig-paren">(</span><em>folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_config_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>deprecate it!</p>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_data_folder">
<code class="descname">set_data_folder</code><span class="sig-paren">(</span><em>data_folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_data_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set output data folder for MTS to a different than standard:
“D:\data\%JobName%\2_Output\%TaskName%\data”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_folder</strong> (<em>str</em>) – path to the output data folder on the hpc-client.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.TaskFactoryMTS.set_parameter">
<code class="descname">set_parameter</code><span class="sig-paren">(</span><em>param</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/task_factory_mts.html#TaskFactoryMTS.set_parameter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set an extra parameter’s value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.SubTaskFactory">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">SubTaskFactory</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<ul class="simple">
<li>Specialized class for creating Hpc SubTasks which are based
on “normal” commandline call.</li>
<li>Typical usage is first to set all information, which is the same for
all Tasks. (environment variables, working dir, ….)</li>
<li>After that, multiple calls of the “create_task”
-&gt; for the real Task creation.</li>
</ul>
<dl class="method">
<dt id="hpc.SubTaskFactory.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init subtaskfactory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hpc</strong> (<a class="reference internal" href="#hpc.Job" title="hpc.Job"><em>hpc.Job</em></a>) – link to job</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>**kwargs</strong> – <ul class="simple">
<li><em>head_node</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): head node to use, default: Lindau production cluster</li>
<li><em>io_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch io traffic</li>
<li><em>cpu_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall track cpu usage</li>
<li><em>time_watch</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): whether watchdog shall monitor time [h]</li>
<li><em>prn_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch the printout</li>
<li><em>time_factor</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): default 16 x recording length</li>
<li><em>skipon</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): continue on certain exitcodes of previous subtask, e.g. [-302, -402]</li>
<li><em>wrapexe</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): executable wrapped around each sub task</li>
<li><em>exit_map</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): map real exit code to user defined</li>
<li><em>folders</em> (<code class="docutils literal notranslate"><span class="pre">list[str]</span></code>): list of extra folder to create on WSN at start of (sub)task run</li>
<li><em>env</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): list of lists containing environment variables to set when running all subtasks</li>
<li><em>skip</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): skip this amount of subtasks when [Finished, Failed]</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactory.activate_app_watcher">
<code class="descname">activate_app_watcher</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory.activate_app_watcher"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>deprecate me on time!</p>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactory.add_environment_variable">
<code class="descname">add_environment_variable</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory.add_environment_variable"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>With this method, you are able to set multiple Environment variables
for your Task. You can call this method several times, with different
key/value - pairs. All of them will be set before your task
starts with execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) – name of the Environment Variable.</li>
<li><strong>value</strong> (<em>str</em>) – value which is used to set the Environment Variable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactory.create_task">
<code class="descname">create_task</code><span class="sig-paren">(</span><em>cmd</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory.create_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a new task</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cmd</strong> (<em>str|list</em>) – command(line) for the executable to start.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>time_watch</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): max runtime for subtask [h]</li>
<li><em>io_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch io traffic</li>
<li><em>cpu_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall track cpu usage</li>
<li><em>time_factor</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): calculated time of recording * 16. is default</li>
<li><em>recording</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): full path to recording to be used later on</li>
<li><em>mtscheck</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check MTS log files for problems, default: False</li>
<li><em>errorlevel</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): which errorlevel to use for MTS reporting, 0-6, default 1</li>
<li><em>rec_map</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): set it to False, when recording’s usage should not be tracked</li>
<li><em>rec_diff</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): allowed difference [%] from calculated time of recording compared to bsig output</li>
<li><em>wrapexe</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): executable(s) which are wrapped around actual main call of e.g. MTS</li>
<li><em>exit_map</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): map real exit code to user defined</li>
<li><em>cmd_asis</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): set to true, if you don’t want the app call to be manipulated by Popen</li>
<li><em>replace_path</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): if set to True, do not replace any path’s from command</li>
<li><em>shell</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): use a shell for execution of a command</li>
<li><em>env</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>): additional environment data to be set when calling Popen for execution</li>
<li><em>folders</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): additional folders to create when task executes</li>
<li><em>skipon</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): skip this subtask if previous exits with one of those in list</li>
<li><em>skip</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): skip this amount of subtasks when [Finished, Failed]</li>
<li><em>xlog</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): extra list to log out during (sub)task execution</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">created SubTaskList</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list[int]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactory.set_cur_work_dir">
<code class="descname">set_cur_work_dir</code><span class="sig-paren">(</span><em>working_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory.html#SubTaskFactory.set_cur_work_dir"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set the working dir for your process.
default working directory is D:/data/%JobName%/1_Input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><ul class="first simple">
<li>%JobName% will be replaced with the real JobName.</li>
<li>%TaskName% will be replaced with the real TaskName.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first last"><strong>working_dir</strong> (<em>str</em>) – Name of the Environment Variable.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.SubTaskFactoryMTS">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">SubTaskFactoryMTS</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.sbmt.html#hpc.sbmt.subtask_factory.SubTaskFactory" title="hpc.sbmt.subtask_factory.SubTaskFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.sbmt.subtask_factory.SubTaskFactory</span></code></a></p>
<div class="graphviz"><img src="_images/inheritance-614f747494b70842008a993b83ce1b34781af40d.png" alt="Inheritance diagram of hpc.SubTaskFactoryMTS" usemap="#inheritance371cab7a76" class="inheritance graphviz" /></div>
<map id="inheritance371cab7a76" name="inheritance371cab7a76">
<area shape="rect" id="node1" href="hpc.sbmt.html#hpc.sbmt.subtask_factory.SubTaskFactory" target="_top" title="&#45; Specialized class for creating Hpc SubTasks which are based" alt="" coords="5,5,329,31"/>
<area shape="rect" id="node2" href="hpc.sbmt.html#hpc.sbmt.subtask_factory_mts.SubTaskFactoryMTS" target="_top" title=".. inheritance&#45;diagram:: hpc.SubTaskFactoryMTS" alt="" coords="370,5,763,31"/>
</map><p>Specialized class for creating Hpc SubTasks which run out MTS.</p>
<ul class="simple">
<li>Typical usage is first to set all information,
which is the same for all Tasks. (SetConfigFolder,SetConfigFile,…)</li>
<li>After that, multiple calls of the “create_task”
-&gt; for the real MTS-Task creation.</li>
<li>This class is derived from the <a class="reference internal" href="#hpc.SubTaskFactory" title="hpc.SubTaskFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactory</span></code></a>,
this means all methods from there can also be used.</li>
<li>a private check method is registered to be executed in Job.submit() checking
the availability of the MTS config file.</li>
</ul>
<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hpc</strong> (<a class="reference internal" href="#hpc.Job" title="hpc.Job"><em>hpc.Job</em></a>) – hpc job class</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>**kwargs</strong> – <ul class="simple">
<li><em>io_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch io traffic</li>
<li><em>cpu_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall track cpu usage</li>
<li><em>time_watch</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): whether watchdog shall monitor time [h]</li>
<li><em>prn_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch the printout</li>
<li><em>time_factor</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): default 16 x recording length</li>
<li><em>loglevel</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): use a certain logging level (mts_check)</li>
<li><em>exist</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check existence of recording, default: False</li>
<li><em>mtscheck</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check MTS log files for problems, default: False</li>
<li><em>skipon</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): continue on certain exitcodes of previous subtask, e.g. [-302, -402]</li>
<li><em>cfg_blacklist</em> (<code class="docutils literal notranslate"><span class="pre">list[str]</span></code>): blacklisted MTS / SilLite config sections</li>
<li><em>wrapexe</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): executable wrapped around each sub task</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.copy_mts_folders">
<code class="descname">copy_mts_folders</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.copy_mts_folders"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>copy MTS folders from default (or given) directories and
omit unneeded mts files and folders that are not needed in offline simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>*args</strong> – <em>mts_sys_folder_name</em>, <em>mts_measure_folder_name</em>, <em>use_filter</em>, <em>mts_sys_dest</em>
and <em>mts_measure_dest</em> can be given, others are optional (kwargs)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>**kwargs</strong> – <ul class="simple">
<li><em>mts_sys_folder_name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): MTS system folder path</li>
<li><em>mts_measure_folder_name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): MTS measurement folder path</li>
<li><em>use_filter</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): deactivate ignore filter, default: True</li>
<li><em>mts_sys_dest</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): destination path for mts_system</li>
<li><em>mts_measure_dest</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): destination path for mts_measurement</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – on copy error</li>
<li><strong>ValueError</strong> – in case path cannot be found</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.create_task">
<code class="descname">create_task</code><span class="sig-paren">(</span><em>bpl_rec_file_path</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.create_task"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create a single SubTask based on a given *.bpl file or a given
*.rec file for MTS or a *.sim file for sil_lite.
If checker is enabled, it will automatically create also a checker task.</p>
<p>note: for additional parameters, please review <code class="xref py py-obj docutils literal notranslate"><span class="pre">subtask_factory.create_task</span></code> as well</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bpl_rec_file_path</strong> (<em>str</em>) – Bpl / Rec / Sim file URL which must be used for MTS / sil_lite.
Type depends on initializer mod (‘rec’, ‘bpl’)</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>**kwargs</strong> – <ul class="simple">
<li><em>checker</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): Enables a second SubTask which checks the MTS / sil_lite Output (xlog, crash)</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">created SubTaskList</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list[int]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – in case of a unicode encode problem, reading config</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.create_tasks">
<code class="descname">create_tasks</code><span class="sig-paren">(</span><em>bpl_file_path</em>, <em>checker=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.create_tasks"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>create a multiple SubTask based on a given *.bpl file
If bpl file entry contains a section, then a bpl file based task
will be created, and also the needed split new bpl file with this
single entry. If bpl file entry is without sections, the task creation
will use directly the *.rec file path as argument.
If checker is enabled, it will automatically create also a checker task.</p>
<p>Note: for additional parameters, please review <code class="xref py py-obj docutils literal notranslate"><span class="pre">subtask_factory.create_task</span></code> as well</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bpl_file_path</strong> (<em>str</em>) – bpl file URL which must be used for MTS / sil_lite.</li>
<li><strong>checker</strong> (<em>bool</em>) – enables a second SubTask which checks the MTS Output (xlog, crash)</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">SubTaskList</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list[int]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_app_path">
<code class="descname">set_app_path</code><span class="sig-paren">(</span><em>app_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_app_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Provide the possibility to set the path to MTS / sil_lite
to the correct one, if the default path can’t be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">%JobName% will be replaced with the real JobName.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_path</strong> (<em>str</em>) – Absolute path to the measapp.exe, which is used to start the Task.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_config">
<code class="descname">set_config</code><span class="sig-paren">(</span><em>folder</em>, <em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_config"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the folder, where MTS / sil_lite will find the given config file.
This folder will also be used, if you have multiple configuration,
which depends via a relative path from each other.
So this Folder will also be used as the base config folder to resolve
the relative paths to other given config files.</p>
<p>Set the config file name, which shall be used.
This FileName can also contain a relative path to the config file,
if the Base Config Folder feature is needed.
Please see also <code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactoryMTS.SetConfigFolder</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>folder</strong> (<em>str</em>) – path to base config folder</li>
<li><strong>file_name</strong> (<em>str</em>) – relative path to config file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – raised when either folder of file is empty</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_config_file_name">
<code class="descname">set_config_file_name</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_config_file_name"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>deprecate !!!</p>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_config_folder">
<code class="descname">set_config_folder</code><span class="sig-paren">(</span><em>folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_config_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>deprecate !!!</p>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_data_folder">
<code class="descname">set_data_folder</code><span class="sig-paren">(</span><em>data_folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_data_folder"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set output data folder for MTS to a different than standard:
“D:\data\%JobName%\2_Output\%TaskName%\data”</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_folder</strong> (<em>str</em>) – path to the output data folder on the hpc-client.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_parameter">
<code class="descname">set_parameter</code><span class="sig-paren">(</span><em>param</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_parameter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set an extra parameter’s value</p>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactoryMTS.set_split_section">
<code class="descname">set_split_section</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_mts.html#SubTaskFactoryMTS.set_split_section"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>set split_section for section based exports of MTS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>bool</em>) – True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.SubTaskFactorySILLite">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">SubTaskFactorySILLite</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_sil_lite.html#SubTaskFactorySILLite"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.sbmt.html#hpc.sbmt.subtask_factory_mts.SubTaskFactoryMTS" title="hpc.sbmt.subtask_factory_mts.SubTaskFactoryMTS"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.sbmt.subtask_factory_mts.SubTaskFactoryMTS</span></code></a></p>
<p>Specialized class for creating Hpc SubTasks which run out SIL Lite.</p>
<ul class="simple">
<li>Typical usage is first to set all information,
which is the same for all Tasks. (SetConfigFolder,SetConfigFile,…)</li>
<li>After that, multiple calls of the “create_task”
-&gt; for the real SIL Lite-Task creation.</li>
<li>This class is derived from the <a class="reference internal" href="#hpc.SubTaskFactory" title="hpc.SubTaskFactory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SubTaskFactory</span></code></a>,
this means all methods from there can also be used.</li>
<li>a private check method is registered to be executed in Job.submit() checking
the availability of the SIL Lite config file.</li>
</ul>
<dl class="method">
<dt id="hpc.SubTaskFactorySILLite.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hpc</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_sil_lite.html#SubTaskFactorySILLite.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hpc</strong> (<a class="reference internal" href="#hpc.Job" title="hpc.Job"><em>hpc.Job</em></a>) – hpc job class</li>
<li><strong>kwargs</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>**kwargs</strong> – <ul class="simple">
<li><em>io_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch io traffic</li>
<li><em>cpu_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall track cpu usage</li>
<li><em>time_watch</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): whether watchdog shall monitor time [h]</li>
<li><em>prn_watch</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): whether watchdog shall watch the printout</li>
<li><em>time_factor</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>): default 16 x recording length</li>
<li><em>loglevel</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): use a certain logging level (mts_check)</li>
<li><em>exist</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check existence of recording, default: False</li>
<li><em>mtscheck</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): check MTS log files for problems, default: False</li>
<li><em>skipon</em> (<code class="docutils literal notranslate"><span class="pre">list</span></code>): continue on certain exitcodes of previous subtask, e.g. [-302, -402]</li>
<li><em>cfg_blacklist</em> (<code class="docutils literal notranslate"><span class="pre">list[str]</span></code>): blacklisted MTS / SilLite config sections</li>
<li><em>wrapexe</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): executable wrapped around each sub task</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactorySILLite.copy_sil_lite_folders">
<code class="descname">copy_sil_lite_folders</code><span class="sig-paren">(</span><em>sil_sys_folder_name='.\\sil_lite'</em>, <em>sil_measure_folder_name='.\\mts_measurement'</em>, <em>use_filter=True</em>, <em>sil_sys_dest='sil_lite'</em>, <em>sil_measure_dest='mts_measurement'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_sil_lite.html#SubTaskFactorySILLite.copy_sil_lite_folders"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Copy SIL lite folders from default (or given) directories and
omit unneeded mts files and folders that are not needed in offline simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sil_sys_folder_name</strong> (<em>str</em>) – optional path to sil_lite folder</li>
<li><strong>sil_measure_folder_name</strong> (<em>str</em>) – optional path to mts_measurement folder</li>
<li><strong>use_filter</strong> (<em>bool</em>) – optional to deactivate ignore filter</li>
<li><strong>sil_sys_dest</strong> (<em>str</em>) – destination path for sil_lite</li>
<li><strong>sil_measure_dest</strong> (<em>str</em>) – destination path for mts_measurement</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.SubTaskFactorySILLite.set_app_path">
<code class="descname">set_app_path</code><span class="sig-paren">(</span><em>app_path='d:\\data\\%JobName%\\1_Input\\sil_lite\\sil_lite.exe'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/sbmt/subtask_factory_sil_lite.html#SubTaskFactorySILLite.set_app_path"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Provide the possibility to set the path to sil_lite
to the correct one, if the default path can’t be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">%JobName% will be replaced with the real JobName.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_path</strong> (<em>str</em>) – Absolute path to the sil_lite.exe,
which is used to start the Task.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.Signal">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">Signal</code><a class="reference internal" href="_modules/hpc/mts/signal.html#Signal"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><strong>Signal File Read and Write</strong> (*.bsig (aka *.bin), *.csv)</p>
<p>open, step through, read or write signals and close a signal file, provide list of signal names</p>
<p>by default the <strong>values read are returned as numpy array</strong>, see <code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code> how to configure for python lists</p>
<p>for csv files several options (like delimiter) are supported, see <code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code> for more details</p>
<p>even if the usage looks like calling a dict <em>a Signal instance is no dict:</em></p>
<ul class="simple">
<li>when getting a signal using <code class="docutils literal notranslate"><span class="pre">sr['my_signal_name']</span></code> just that signal is read from the file;</li>
<li>adding or deleting signals is not possible, it’s just a reader;</li>
<li>there are no dict functions like d.keys(), d.values(), d.get() etc.</li>
</ul>
<p>supported functions (see also Examples below):</p>
<blockquote>
<div><ul class="simple">
<li>with              open and integrated close for a signal file</li>
<li>get               values of signal with name or index: <code class="docutils literal notranslate"><span class="pre">sr['my_name'],</span> <span class="pre">sr[2]</span></code></li>
<li>len               number of signals: <code class="docutils literal notranslate"><span class="pre">len(sr)</span></code></li>
<li>in                check if signal with name is available: <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">'my_sig'</span> <span class="pre">in</span> <span class="pre">sr:</span></code></li>
<li>for               loop over all signals with name and values: <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">n,</span> <span class="pre">v</span> <span class="pre">in</span> <span class="pre">sr:</span></code></li>
<li>signal_names      list of all signal names (like dict.keys()): <code class="docutils literal notranslate"><span class="pre">sr.signal_names</span></code></li>
</ul>
</div></blockquote>
<p>for the writing use mode=’w’ and use type=’csv’ or type=’bsig’
if later is used you might want to step back using V2 format: v2format=True</p>
<p>Example 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># read csv files:</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">.</span><span class="n">csv</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;delim&#39;</span><span class="o">=&lt;</span><span class="n">delimiter</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;scan_type&#39;</span><span class="o">=&lt;</span><span class="s1">&#39;prefetch&#39;</span><span class="p">,</span><span class="s1">&#39;no_prefetch&#39;</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;scan_opt&#39;</span><span class="o">=&lt;</span><span class="s1">&#39;scan_auto&#39;</span><span class="p">,</span><span class="s1">&#39;scan_raw&#39;</span><span class="p">,</span><span class="s1">&#39;float&#39;</span><span class="p">,</span><span class="o">...&gt;</span><span class="p">,</span>
                <span class="s1">&#39;skip_lines&#39;</span><span class="o">=&lt;</span><span class="n">number_of_header_lines_to_skip</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;skip_data_lines&#39;</span><span class="o">=&lt;</span><span class="n">number_of_data_lines_to_skip</span><span class="o">&gt;</span><span class="p">)</span>

<span class="c1"># read bsig files (version 2 or 3)</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">.</span><span class="n">bsig</span><span class="o">&gt;</span><span class="p">)</span>

<span class="c1"># check if signal with name is stored in file:</span>
<span class="k">if</span> <span class="s2">&quot;MTS.Package.TimeStamp&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TimeStamp missing in signal file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">hpc</span> <span class="kn">import</span> <span class="n">Signal</span><span class="p">,</span> <span class="n">SignalException</span>

<span class="n">sr</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.txt&#39;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">scan_type</span><span class="o">=</span><span class="s1">&#39;NO_PREFETCH&#39;</span><span class="p">)</span>
<span class="c1"># get values</span>
<span class="n">read_values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;lux_R2G&#39;</span><span class="p">]</span>
<span class="n">sr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 3:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sr</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_sla_xyz.csv&#39;</span><span class="p">,</span><span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">skip_lines</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="c1"># read only signal &#39;timestamp&#39;</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="c1"># gets the timestamp signal</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># gets the signal by index 0</span>
<span class="n">sr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 4:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="n">signals</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[[</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">,</span><span class="s1">&#39;Cycle counter&#39;</span><span class="p">]]</span> <span class="c1"># retrieves a list of both signals --&gt; [[&lt;sig1&gt;], [&lt;sig2&gt;]]</span>
</pre></div>
</div>
<p>Example 5:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="n">signals</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">250</span><span class="p">]</span> <span class="c1"># retrieves 200 samples of time stamp signal from offset 50 onwards</span>
</pre></div>
</div>
<p>Example 6:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_fct.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sr</span><span class="p">:</span>  <span class="c1"># iterate over names and signals</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">v</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>

<span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="n">signals</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">250</span><span class="p">]</span> <span class="c1"># retrieves 200 samples of time stamp signal from offset 50 onwards</span>
</pre></div>
</div>
<p>Example 7:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instance_ARS</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_ars_xyz.csv&#39;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span><span class="n">scan_opt</span> <span class="o">=</span> <span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">instance_ARS</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">hpc</span> <span class="kn">import</span> <span class="n">Signal</span><span class="p">,</span> <span class="n">SignalException</span>
</pre></div>
</div>
<p>Example 8:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sr</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.txt&#39;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">scan_type</span><span class="o">=</span><span class="s1">&#39;NO_PREFETCH&#39;</span><span class="p">)</span>
<span class="c1"># get values</span>
<span class="n">read_values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;lux_R2G&#39;</span><span class="p">]</span>
<span class="n">sr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 9:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sr</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_sla_xyz.csv&#39;</span><span class="p">,</span><span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">skip_lines</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="c1"># read only signal &#39;timestamp&#39;</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="c1"># gets the timestamp signal</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># gets the signal by index 0</span>
<span class="n">sr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 10:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="n">signals</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[[</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">,</span><span class="s1">&#39;Cycle counter&#39;</span><span class="p">]]</span> <span class="c1"># retrieves a list of both signals --&gt; [[&lt;sig1&gt;], [&lt;sig2&gt;]]</span>
</pre></div>
</div>
<p>Example 11:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sr</span><span class="p">:</span>
    <span class="n">signals</span> <span class="o">=</span> <span class="n">sr</span><span class="p">[</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">250</span><span class="p">]</span> <span class="c1"># retrieves 200 samples of time stamp signal from offset 50 onwards</span>
</pre></div>
</div>
<p>Example 12:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instance_ARS</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_ars_xyz.csv&#39;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span><span class="n">scan_opt</span> <span class="o">=</span> <span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">instance_ARS</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Example 13:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># just write some</span>

<span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;file_hla_xyz.bsig&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sw</span><span class="p">:</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Time stamp&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Cycle counter&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
</pre></div>
</div>
<p>Example 14:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># reorganize</span>

<span class="n">bsig_in_file</span><span class="p">,</span> <span class="n">bsig_out_file</span> <span class="o">=</span> <span class="s1">&#39;Snapshot_201x.x.y_at_h.m.s_FCT.bsig&#39;</span><span class="p">,</span> <span class="s1">&#39;Snapshot_201x.x.y_at_h.m.s_all.bsig&#39;</span>
<span class="n">sig_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MTS.Timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;MTS.Cyclecounter&#39;</span><span class="p">,</span> <span class="s1">&#39;SIM VFB.FCTVehicle.HEAD.Header.uiStructSize&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>

<span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="n">bsig_in_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">sin</span><span class="p">,</span> <span class="n">Signal</span><span class="p">(</span><span class="n">bsig_out_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sout</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">sig</span> <span class="ow">in</span> <span class="n">sig_list</span><span class="p">:</span>
        <span class="n">sout</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">sin</span><span class="p">[</span><span class="n">sig</span><span class="p">])</span>
</pre></div>
</div>
<p>Example 15:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># CSV</span>

<span class="k">with</span> <span class="n">Signal</span><span class="p">(</span><span class="s1">&#39;Snapshot_xyz.csv&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">sw</span><span class="p">:</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;signal 1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="o">.....</span><span class="p">]))</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="hpc.SignalException">
<em class="property">exception </em><code class="descclassname">hpc.</code><code class="descname">SignalException</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/mts/signal.html#SignalException"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>general exception for SignalReader class</p>
<dl class="method">
<dt id="hpc.SignalException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/mts/signal.html#SignalException.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>derive from std error</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.Bpl">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">Bpl</code><a class="reference internal" href="_modules/hpc/bpl/base.html#Bpl"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Possibility to read and write Batch Play Lists or Collections supported by mts.</p>
<p>Currently *.ini, *.txt and *.bpl based BatchPlayLists are supported.
The file structure is automatically selected by the ending.</p>
<ul class="simple">
<li>*.bpl files based on xml and support section definitions for the rec files</li>
<li>*ini, *.txt files simply list the complete path and file name</li>
<li>if filepath is not a readable file: a collection from DB is used (as created with TDSM tool)</li>
</ul>
<p><em>structure</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`BplList`  -  list (`BplListEntry`)
    |
    +- filepath (str)
    |
    +- location (str)
    |
    -- sectionlist (list(`Section`))
        |
        +- start_ts (long)
        +- end_ts (long)
        +- rel (bool)
</pre></div>
</div>
<p>In case of BplList read from *.ini or *.txt file the sectionlist is empty.</p>
<p>The location is internal only (not directly visible in Bpl files) and provides the site abbreviation
where the file is stored. Usage like if mybpllistentry.location in [‘LND’, ‘FFM’]: print(“file stored in Europe”)</p>
<p><strong>example usage one</strong></p>
<blockquote>
<div><p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an instance of your BPL-Reader</span>
<span class="n">bpl</span> <span class="o">=</span> <span class="n">hpc</span><span class="o">.</span><span class="n">Bpl</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;D:\testdir\MyBatchPlayList.bpl&quot;</span><span class="p">)</span>

<span class="c1"># Get whole RecFile List out from bpl file</span>
<span class="n">bpllist</span> <span class="o">=</span> <span class="n">bpl</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>                        <span class="c1"># type: BplList</span>

<span class="c1"># Iterate over whole list in a for loop</span>
<span class="k">for</span> <span class="n">bplentry</span> <span class="ow">in</span> <span class="n">bpllist</span><span class="p">:</span>                    <span class="c1"># type: BplListEntry</span>
    <span class="n">recfilename</span> <span class="o">=</span> <span class="n">bplentry</span><span class="o">.</span><span class="n">filepath</span>
    <span class="n">storage_site</span> <span class="o">=</span> <span class="n">bplentry</span><span class="o">.</span><span class="n">location</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">bplentry</span><span class="o">.</span><span class="n">sectionlist</span><span class="p">:</span>     <span class="c1"># type: Section</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">start_ts</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">end_ts</span>
        <span class="n">is_relative_timestamp</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">rel</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>example usage two</strong></p>
<blockquote>
<div><p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Bpl</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;D:\another\file.bpl&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">bpl</span><span class="p">:</span>  <span class="c1"># open a bpl</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ent</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bpl</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;saving </span><span class="si">{!s}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ent</span><span class="p">))</span>
        <span class="n">ent</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">job_folder</span><span class="p">,</span> <span class="s2">&quot;1_Input&quot;</span><span class="p">,</span> <span class="s2">&quot;bpl&quot;</span><span class="p">,</span> <span class="s2">&quot;part_</span><span class="si">{:0&gt;5d}</span><span class="s2">.bpl&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>example usage three</strong></p>
<blockquote>
<div><p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># supported modes are &quot;w&quot; and &quot;r&quot; similar to files</span>
<span class="c1"># for &quot;r&quot; it&#39;s automatically read, for &quot;w&quot; it&#39;s automatically written when using with statement</span>
<span class="k">with</span> <span class="n">Bpl</span><span class="p">(</span><span class="s2">&quot;sample.bpl&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">bpl</span><span class="p">,</span> <span class="n">BaseDB</span><span class="p">(</span><span class="s2">&quot;VGA&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">executex</span><span class="p">(</span><span class="s2">&quot;SELECT FILEPATH FROM CAT_DMT_FILES WHERE .....&quot;</span><span class="p">):</span>
        <span class="n">bpl</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>example usage four</strong></p>
<blockquote>
<div><p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># go throught a Falcon based collection:</span>
<span class="k">with</span> <span class="n">Bpl</span><span class="p">(</span><span class="s2">&quot;my_falcon_collection&quot;</span><span class="p">,</span> <span class="n">collbase</span><span class="o">=</span><span class="s2">&quot;falcon&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">bpl</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">bpl</span><span class="p">:</span>
        <span class="n">task_fact</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">ent</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The internal Bpl structure is ported from mts, but you can convert it to a dict if needed.
Similar there is a method to convert the Section to a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">list_dict</span> <span class="o">=</span> <span class="n">bpllist</span><span class="o">.</span><span class="n">bpl2dict</span><span class="p">()</span>
<span class="n">secttupel</span> <span class="o">=</span> <span class="n">bpllist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sectionlist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sect2list</span><span class="p">()</span>  <span class="c1"># tuple(&lt;start_ts&gt;, &lt;end_ts&gt;, &lt;rel&gt;)</span>
</pre></div>
</div>
<p>Functions to create a BPL files for different usecases are available in module <a class="reference internal" href="hpc.bpl.html#module-hpc.bpl" title="hpc.bpl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bpl</span></code></a> .</p>
<dl class="method">
<dt id="hpc.Bpl.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/bpl/base.html#Bpl.append"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>append item</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Bpl.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/bpl/base.html#Bpl.read"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>read file</p>
</dd></dl>

<dl class="method">
<dt id="hpc.Bpl.write">
<code class="descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/bpl/base.html#Bpl.write"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>write file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.CollManager">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">CollManager</code><span class="sig-paren">(</span><em>connection='VGA'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>common class for collections</p>
<dl class="attribute">
<dt id="hpc.CollManager.APPEND">
<code class="descname">APPEND</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.CLSUB">
<code class="descname">CLSUB</code><em class="property"> = {1: &lt;class 'hpc.rdb.catalog.Collection'&gt;, 2: &lt;class 'hpc.rdb.catalog.SharedColl'&gt;, 3: &lt;class 'hpc.rdb.catalog.Recording'&gt;, 4: &lt;class 'hpc.rdb.catalog.RecordingCopy'&gt;}</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.COLL">
<code class="descname">COLL</code><em class="property"> = 1</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.NONE">
<code class="descname">NONE</code><em class="property"> = 0</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.READ">
<code class="descname">READ</code><em class="property"> = 0</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.REC">
<code class="descname">REC</code><em class="property"> = 3</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.RECOPY">
<code class="descname">RECOPY</code><em class="property"> = 4</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.SHARE">
<code class="descname">SHARE</code><em class="property"> = 2</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.CollManager.WRITE">
<code class="descname">WRITE</code><em class="property"> = 2</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hpc.CollManager.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>connection='VGA'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>initialize a new collection or recording</p>
<p>code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">CollManager</span><span class="p">(</span><span class="s1">&#39;VGA&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">collmgr</span><span class="p">:</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">collmgr</span><span class="p">:</span>  <span class="c1"># print only top collections:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># something recusive, just for fun</span>
<span class="k">with</span> <span class="n">Collection</span><span class="p">(</span><span class="s2">&quot;VGA&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;svens_coll&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">coll</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">recur</span><span class="p">(</span><span class="n">coll</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">((</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">space</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">coll</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coll</span><span class="p">:</span>
            <span class="n">recur</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">space</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">recur</span><span class="p">(</span><span class="n">coll</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Some more samples can be reviewed inside unittest…</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>connection</strong> (<em>BaseDB|str</em>) – connection name or <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseDB</span></code> object</li>
<li><strong>**kw</strong> (<em>dict</em>) – see below</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first"><strong>**kw</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): if starting with a name, this instance will be the root collection</li>
<li><em>desc</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): if name shouldn’t be unique, add a description to be it</li>
<li><em>mode</em> (<code class="docutils literal notranslate"><span class="pre">CollManager.READ|CollManager.WRITE</span></code>): go into read or write mode, use class constants!</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#hpc.CollException" title="hpc.CollException"><strong>hpc.CollException</strong></a> – once some error is encountered</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.add"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>add a collection or recording</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> (<em>Recording|Collection</em>) – recording or collection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>commit=True</em>, <em>rollback=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.close"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>commit changes and close connection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>commit</strong> (<em>bool</em>) – we should commit</li>
<li><strong>rollback</strong> (<em>bool</em>) – we need to rollback</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.commit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>support for external commit to db</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.dbase">
<em class="property">property </em><code class="descname">dbase</code></dt>
<dd><p>return db connection</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.name">
<em class="property">property </em><code class="descname">name</code></dt>
<dd><p>return my name</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.next"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>next child item to catch and return</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.regsub">
<em class="property">classmethod </em><code class="descname">regsub</code><span class="sig-paren">(</span><em>theid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.regsub"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>use it for subclass registration as we need to return proper child classes for iteration</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.rollback"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>support for external rollback to db</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.sql">
<code class="descname">sql</code><span class="sig-paren">(</span><em>sql</em>, <em>**parms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollManager.sql"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>execute with background db</p>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.type">
<em class="property">property </em><code class="descname">type</code></dt>
<dd><p>REC or COLL</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return my type</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.CollManager.user">
<em class="property">property </em><code class="descname">user</code></dt>
<dd><p>return my name</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.Collection">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">Collection</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Collection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.rdb.html#hpc.rdb.catalog.CollManager" title="hpc.rdb.catalog.CollManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.rdb.catalog.CollManager</span></code></a></p>
<p>A collection can contain other collections and for sure recordings.</p>
<p>Collections have a name and optional description, that’s it!</p>
<ul class="simple">
<li>You can add another sub-collection via <strong>add_coll</strong> method,</li>
<li>another recording can be added through <strong>add_rec</strong></li>
<li>Removal of an subitem (Collection, Recording) is done via <strong>remove</strong> method.</li>
<li>Export or Import to/from bpl files</li>
</ul>
<p>Several other infos are available through properties, e.g.:</p>
<blockquote>
<div><ul class="simple">
<li>name:  complete url of collection  (str)</li>
<li>id:  cb internal id  (int)</li>
<li>desc:  description (can also be set here)  (str)</li>
<li>parent:  parent collection (if defined) (<a class="reference internal" href="#hpc.Collection" title="hpc.Collection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Collection</span></code></a>)</li>
<li>active:  flag if collection is used</li>
<li>prio:  priority, e.g. to sort sub collections inside a collection</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="hpc.Collection.GETATTR">
<code class="descname">GETATTR</code><em class="property"> = {'desc': ('_desc',), 'id': ('_myId',), 'label': ('_label',), 'parent': ('_parent',), 'prio': ('_prio',)}</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="hpc.Collection.SETATTR">
<code class="descname">SETATTR</code><em class="property"> = {'desc': ('_desc',)}</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hpc.Collection.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Collection.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>inti a collection which can contain other collections and for sure recordings.
Collections have a name and optional description, that’s it!</p>
<p>You can add another sub-collection via <strong>add_coll</strong> method,
another recording can be added through <strong>add_rec</strong>
Removal of an subitem is done via <strong>remove</strong> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kw</strong> (<em>dict</em>) – see below</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of collection to use (or create if not existing)</li>
<li><em>desc</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): description of collection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Collection.add_coll">
<code class="descname">add_coll</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Collection.add_coll"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>add a collection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kw</strong> (<em>dict</em>) – see below</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of collection</li>
<li><em>desc</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): description of it</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">collection</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">Collection</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Collection.add_rec">
<code class="descname">add_rec</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Collection.add_rec"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>add a recording</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kw</strong> (<em>dict</em>) – see below</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>**kwargs</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): recfile name or path or it’s id</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">recording</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">Recording</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Collection.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>sub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Collection.remove"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>remove something</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sub</strong> (<em>Recording|Collection</em>) – a subitem to be removed, similar to list.remove</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hpc.Recording">
<em class="property">class </em><code class="descclassname">hpc.</code><code class="descname">Recording</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Recording"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="hpc.rdb.html#hpc.rdb.catalog.CollManager" title="hpc.rdb.catalog.CollManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">hpc.rdb.catalog.CollManager</span></code></a></p>
<p>A recording represents the data from cat_files (measid).</p>
<p>Several other infos are available through properties, e.g.:</p>
<blockquote>
<div><ul class="simple">
<li>name:  complete path and file name</li>
<li>id:  measurement id</li>
<li>timestamp:  tuple of [abs. start ts, abs. end ts] time stamps ([int, int])</li>
<li>state:  status of file on server (transmitted: copied to server, archived: moved to archive)</li>
<li>hash:  unique hash key of rec file (str)</li>
<li>rectime:  recording time  (daytime object)</li>
<li>import_date:  day/time of adding the rec file to the server / db  (daytime object)</li>
<li>beginrelts:  first relative time stamp of section to be used in collection  (int)</li>
<li>endrelts:  last relative time stamp of section used in collection  (int)</li>
<li>distance:  driven distance based on VDY</li>
<li>gpsdistance:  driven distance based on GPS positions</li>
<li>filesize:  size in byte</li>
<li>project:  name of project the rec file belongs to</li>
<li>filestate:  acceptance state of the file (int: 1 := unchecked, 2 := rejected, 3 := accepted)</li>
</ul>
</div></blockquote>
<p>Set properties for Recording inside a Collection:</p>
<blockquote>
<div><ul class="simple">
<li>beginrelts: first relative time stamp of section to be used in collection</li>
<li>endrelts:  last relative time stamp of section used in collection</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="hpc.Recording.GETATTR">
<code class="descname">GETATTR</code><em class="property"> = {'distance': ('_dist',), 'filepath': ('_name',), 'filesize': ('_fsize',), 'filestate': ('_fstate',), 'gpsdistance': ('_gpsdist',), 'hash': ('_chash',), 'id': ('_myId',), 'import_date': ('_import',), 'location': ('_location',), 'map_id': ('_mapid',), 'parent': ('_parent',), 'project': ('_recprj',), 'rectime': ('_rectime',), 'region': ('_region',), 'relts': ('_relts',), 'timestamp': ('_timestamp',)}</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hpc.Recording.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Recording.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init recording which has a name being path/to/a/filename.</p>
<p>Several other infos are available through properties, e.g.:
timestamp, state of recording, recording time, etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*args</strong> (<em>tuple</em>) – see <code class="docutils literal notranslate"><span class="pre">CollManager</span></code> for more details</li>
<li><strong>**kwargs</strong> (<em>dict</em>) – see <code class="docutils literal notranslate"><span class="pre">CollManager</span></code> for more details</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last"><strong>**kwargs</strong> – <ul class="simple">
<li><em>name</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): name of recording to use</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Recording.dist_file">
<em class="property">property </em><code class="descname">dist_file</code></dt>
<dd><p>sqlite DB distance file name
:rtype: str</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">return</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Recording.gps_dist">
<code class="descname">gps_dist</code><span class="sig-paren">(</span><em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Recording.gps_dist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>calculate GPS distance between start and stop times, default: calc for the whole recording</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<em>int</em>) – use specific start time</li>
<li><strong>stop</strong> (<em>int</em>) – use specific stop time</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Recording.gps_pos">
<code class="descname">gps_pos</code><span class="sig-paren">(</span><em>timestamp=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Recording.gps_pos"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>GPS position at a certain timestamp,
if None, first one is returned, otherwise closest to timestamp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestamp</strong> (<em>int</em>) – MTS timestamp</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple of (LAT, LON)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hpc.Recording.vdy_dist">
<code class="descname">vdy_dist</code><span class="sig-paren">(</span><em>start=None</em>, <em>stop=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#Recording.vdy_dist"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>calculate VDY distance between start and stop times, default: calc for the whole recording</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start</strong> (<em>int</em>) – use specific start time</li>
<li><strong>stop</strong> (<em>int</em>) – use specific stop time</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">distance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="hpc.CollException">
<em class="property">exception </em><code class="descclassname">hpc.</code><code class="descname">CollException</code><span class="sig-paren">(</span><em>error</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollException"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Collection manager exception class</p>
<dl class="method">
<dt id="hpc.CollException.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>error</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/rdb/catalog.html#CollException.__init__"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>init this exception</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>error</strong> (<em>int</em>) – error code</li>
<li><strong>message</strong> (<em>str</em>) – user readable message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hpc.articopy">
<code class="descclassname">hpc.</code><code class="descname">articopy</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hpc/core/artifact.html#articopy"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>download src from artifactory and save it to dst folder, using logger for further info outputs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>str</em>) – source link to load the MTS from</li>
<li><strong>dst</strong> (<em>str</em>) – destination to place it</li>
<li><strong>logger</strong> (<em>logging.Logger</em>) – logger instance to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#hpc.HpcError" title="hpc.HpcError"><strong>hpc.HpcError</strong></a> – once it doesn’t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="hpc.bpl.html" title="hpc.bpl package"
             >next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="hpc"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">HPC 2.12.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >hpc</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, VDS.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>